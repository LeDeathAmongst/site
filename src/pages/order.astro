---
import { getCollection } from "astro:content";
import OrderCard from "../components/OrderCard.astro";
import ArticleIndex from "../components/ArticleIndex.astro";
import Layout from "../layouts/Layout.astro";

// Fetch orders from the content collection (you can replace this with your actual orders fetching logic)
const orders = await getCollection("orders");
---

<Layout
  title="Orders - Rosie"
  ogTitle="Orders"
  description="Submitted orders from customers."
>
  <ArticleIndex title="Orders" navCurrent="/admin/orders">
    <Fragment slot="description">
      Here are the orders submitted by customers. You can view the details of each order below.
    </Fragment>

    {
      orders.map(order => (
        <OrderCard order={order} />
      ))
    }
  </ArticleIndex>
</Layout>

<style>
  @property --bg1 {
    syntax: "<color>";
    initial-value: #101416;
    inherits: false;
  }

  @property --bg2 {
    syntax: "<color>";
    initial-value: #101416;
    inherits: false;
  }

  .order {
    @apply rounded-lg;
    position: relative;
    background: linear-gradient(to bottom right, var(--bg1), var(--bg2));
    color: white;
    transition:
      --bg1 0.1s ease-out,
      --bg2 0.1s ease-out;

    &:hover {
      --bg1: #f0f;
      --bg2: #0ff;
    }

    &::before {
      content: "";
      display: block;
      position: absolute;
      inset: 1px;
      background: #101416;
      border-radius: inherit;
      pointer-events: none;
    }

    & * {
      z-index: 5;
    }
  }
</style>
